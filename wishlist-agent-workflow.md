graph TD
    %% Start Point
    START([User Browses Products]) --> PRODUCT_INTERACTION_AGENT[ðŸ‘† Product Interaction Agent]

    %% Product Interaction
    PRODUCT_INTERACTION_AGENT --> VIEW_TRACKING_AGENT[ðŸ‘ï¸ View Tracking Agent]
    VIEW_TRACKING_AGENT --> ENGAGEMENT_ANALYSIS_AGENT[ðŸ“Š Engagement Analysis Agent]

    ENGAGEMENT_ANALYSIS_AGENT --> INTEREST_SCORING_AGENT[ðŸŽ¯ Interest Scoring Agent]
    INTEREST_SCORING_AGENT --> WISHLIST_CANDIDATE_AGENT[ðŸ’ Wishlist Candidate Agent]

    WISHLIST_CANDIDATE_AGENT --> ADD_TO_WISHLIST_AGENT[âž• Add to Wishlist Agent]
    ADD_TO_WISHLIST_AGENT --> CONFIRMATION_AGENT[âœ… Confirmation Agent]

    CONFIRMATION_AGENT --> WISHLIST_STORAGE_AGENT[ðŸ’¾ Wishlist Storage Agent]
    WISHLIST_STORAGE_AGENT --> USER_NOTIFICATION_AGENT[ðŸ”” User Notification Agent]

    %% Wishlist Management
    WISHLIST_STORAGE_AGENT --> WISHLIST_ORGANIZATION_AGENT[ðŸ“ Wishlist Organization Agent]
    WISHLIST_ORGANIZATION_AGENT --> CATEGORY_TAGGING_AGENT[ðŸ·ï¸ Category Tagging Agent]
    CATEGORY_TAGGING_AGENT --> PRIORITY_RANKING_AGENT[ðŸ“Š Priority Ranking Agent]

    PRIORITY_RANKING_AGENT --> WISHLIST_DISPLAY_AGENT[ðŸ“± Wishlist Display Agent]
    WISHLIST_DISPLAY_AGENT --> USER_DASHBOARD_AGENT[ðŸ‘¤ User Dashboard Agent]

    %% Recommendation Engine
    WISHLIST_STORAGE_AGENT --> RECOMMENDATION_ENGINE_AGENT[ðŸ§  Recommendation Engine Agent]
    RECOMMENDATION_ENGINE_AGENT --> PATTERN_ANALYSIS_AGENT[ðŸ” Pattern Analysis Agent]

    PATTERN_ANALYSIS_AGENT --> SIMILARITY_MATCHING_AGENT[ðŸ”— Similarity Matching Agent]
    SIMILARITY_MATCHING_AGENT --> COLLABORATIVE_FILTERING_AGENT[ðŸ‘¥ Collaborative Filtering Agent]

    COLLABORATIVE_FILTERING_AGENT --> TREND_ANALYSIS_AGENT[ðŸ“ˆ Trend Analysis Agent]
    TREND_ANALYSIS_AGENT --> PERSONALIZATION_AGENT[ðŸŽ¯ Personalization Agent]

    PERSONALIZATION_AGENT --> RECOMMENDATION_GENERATION_AGENT[ðŸ’¡ Recommendation Generation Agent]
    RECOMMENDATION_GENERATION_AGENT --> RECOMMENDATION_RANKING_AGENT[ðŸ“Š Recommendation Ranking Agent]

    RECOMMENDATION_RANKING_AGENT --> RECOMMENDATION_DISPLAY_AGENT[ðŸ“± Recommendation Display Agent]

    %% User Interaction with Recommendations
    RECOMMENDATION_DISPLAY_AGENT --> USER_INTERACTION_AGENT{User Interaction}
    USER_INTERACTION_AGENT -->|View Details| PRODUCT_DETAIL_AGENT[ðŸ“„ Product Detail Agent]
    USER_INTERACTION_AGENT -->|Add to Wishlist| ADD_RECOMMENDED_AGENT[âž• Add Recommended Agent]
    USER_INTERACTION_AGENT -->|Purchase| PURCHASE_INTENT_AGENT[ðŸ›’ Purchase Intent Agent]
    USER_INTERACTION_AGENT -->|Dismiss| DISMISS_AGENT[ðŸš« Dismiss Agent]

    %% Product Detail View
    PRODUCT_DETAIL_AGENT --> DETAILED_ANALYSIS_AGENT[ðŸ” Detailed Analysis Agent]
    DETAILED_ANALYSIS_AGENT --> COMPARISON_AGENT[âš–ï¸ Comparison Agent]
    COMPARISON_AGENT --> REVIEW_AGGREGATION_AGENT[â­ Review Aggregation Agent]

    REVIEW_AGGREGATION_AGENT --> PURCHASE_DECISION_AGENT[ðŸ¤” Purchase Decision Agent]
    PURCHASE_DECISION_AGENT --> USER_INTERACTION_AGENT

    %% Add Recommended to Wishlist
    ADD_RECOMMENDED_AGENT --> RECOMMENDATION_SUCCESS_AGENT[âœ… Recommendation Success Agent]
    RECOMMENDATION_SUCCESS_AGENT --> WISHLIST_UPDATE_AGENT[ðŸ”„ Wishlist Update Agent]

    WISHLIST_UPDATE_AGENT --> SIMILARITY_UPDATE_AGENT[ðŸ”— Similarity Update Agent]
    SIMILARITY_UPDATE_AGENT --> RECOMMENDATION_ENGINE_AGENT

    %% Purchase Intent Tracking
    PURCHASE_INTENT_AGENT --> CONVERSION_TRACKING_AGENT[ðŸ’° Conversion Tracking Agent]
    CONVERSION_TRACKING_AGENT --> SALES_FUNNEL_AGENT[ðŸ“ˆ Sales Funnel Agent]

    SALES_FUNNEL_AGENT --> REVENUE_ATTRIBUTION_AGENT[ðŸ’µ Revenue Attribution Agent]
    REVENUE_ATTRIBUTION_AGENT --> ROI_CALCULATION_AGENT[ðŸ“Š ROI Calculation Agent]

    %% Dismiss Action
    DISMISS_AGENT --> FEEDBACK_COLLECTION_AGENT[ðŸ“ Feedback Collection Agent]
    FEEDBACK_COLLECTION_AGENT --> NEGATIVE_SIGNAL_AGENT[ðŸ“‰ Negative Signal Agent]

    NEGATIVE_SIGNAL_AGENT --> MODEL_ADJUSTMENT_AGENT[âš™ï¸ Model Adjustment Agent]
    MODEL_ADJUSTMENT_AGENT --> RECOMMENDATION_ENGINE_AGENT

    %% Wishlist Operations
    USER_DASHBOARD_AGENT --> WISHLIST_OPERATIONS_AGENT{Wishlist Operations}
    WISHLIST_OPERATIONS_AGENT -->|Remove Item| REMOVE_ITEM_AGENT[âž– Remove Item Agent]
    WISHLIST_OPERATIONS_AGENT -->|Move to Cart| MOVE_TO_CART_AGENT[ðŸ›’ Move to Cart Agent]
    WISHLIST_OPERATIONS_AGENT -->|Share Wishlist| SHARE_WISHLIST_AGENT[ðŸ“¤ Share Wishlist Agent]
    WISHLIST_OPERATIONS_AGENT -->|Create Collection| CREATE_COLLECTION_AGENT[ðŸ“ Create Collection Agent]

    %% Remove Item
    REMOVE_ITEM_AGENT --> REMOVAL_CONFIRMATION_AGENT[âœ… Removal Confirmation Agent]
    REMOVAL_CONFIRMATION_AGENT --> WISHLIST_UPDATE_AGENT

    %% Move to Cart
    MOVE_TO_CART_AGENT --> CART_INTEGRATION_AGENT[ðŸ›’ Cart Integration Agent]
    CART_INTEGRATION_AGENT --> PURCHASE_INTENT_AGENT

    %% Share Wishlist
    SHARE_WISHLIST_AGENT --> SHARING_PLATFORM_AGENT[ðŸŒ Sharing Platform Agent]
    SHARING_PLATFORM_AGENT --> SOCIAL_LINK_AGENT[ðŸ”— Social Link Agent]
    SOCIAL_LINK_AGENT --> VIRALITY_TRACKING_AGENT[ðŸ“Š Virality Tracking Agent]

    %% Create Collection
    CREATE_COLLECTION_AGENT --> COLLECTION_BUILDER_AGENT[ðŸ—ï¸ Collection Builder Agent]
    COLLECTION_BUILDER_AGENT --> THEME_ANALYSIS_AGENT[ðŸŽ¨ Theme Analysis Agent]
    THEME_ANALYSIS_AGENT --> COLLECTION_DISPLAY_AGENT[ðŸ“± Collection Display Agent]

    %% Price Tracking
    WISHLIST_STORAGE_AGENT --> PRICE_TRACKING_AGENT[ðŸ’° Price Tracking Agent]
    PRICE_TRACKING_AGENT --> PRICE_MONITORING_AGENT[ðŸ“ˆ Price Monitoring Agent]

    PRICE_MONITORING_AGENT --> PRICE_ALERT_AGENT[ðŸ”” Price Alert Agent]
    PRICE_ALERT_AGENT --> DISCOUNT_NOTIFICATION_AGENT[ðŸ’¸ Discount Notification Agent]

    DISCOUNT_NOTIFICATION_AGENT --> PURCHASE_TIMING_AGENT[â° Purchase Timing Agent]
    PURCHASE_TIMING_AGENT --> USER_INTERACTION_AGENT

    %% Availability Tracking
    PRICE_TRACKING_AGENT --> AVAILABILITY_TRACKING_AGENT[ðŸ“¦ Availability Tracking Agent]
    AVAILABILITY_TRACKING_AGENT --> STOCK_ALERT_AGENT[ðŸ“¦ Stock Alert Agent]

    STOCK_ALERT_AGENT --> URGENCY_NOTIFICATION_AGENT[ðŸš¨ Urgency Notification Agent]
    URGENCY_NOTIFICATION_AGENT --> PURCHASE_INTENT_AGENT

    %% Social Features
    WISHLIST_STORAGE_AGENT --> SOCIAL_FEATURES_AGENT[ðŸ‘¥ Social Features Agent]
    SOCIAL_FEATURES_AGENT --> FRIEND_ACTIVITY_AGENT[ðŸ‘« Friend Activity Agent]
    FRIEND_ACTIVITY_AGENT --> SOCIAL_RECOMMENDATION_AGENT[ðŸ“± Social Recommendation Agent]

    SOCIAL_RECOMMENDATION_AGENT --> NETWORK_ANALYSIS_AGENT[ðŸŒ Network Analysis Agent]
    NETWORK_ANALYSIS_AGENT --> SOCIAL_INFLUENCE_AGENT[ðŸ‘‘ Social Influence Agent]

    SOCIAL_INFLUENCE_AGENT --> TREND_BOOSTING_AGENT[ðŸ“ˆ Trend Boosting Agent]
    TREND_BOOSTING_AGENT --> RECOMMENDATION_ENGINE_AGENT

    %% Analytics & Learning
    WISHLIST_STORAGE_AGENT --> WISHLIST_ANALYTICS_AGENT[ðŸ“Š Wishlist Analytics Agent]
    WISHLIST_ANALYTICS_AGENT --> USER_BEHAVIOR_AGENT[ðŸ‘¤ User Behavior Agent]

    USER_BEHAVIOR_AGENT --> PREFERENCE_LEARNING_AGENT[ðŸ§  Preference Learning Agent]
    PREFERENCE_LEARNING_AGENT --> PREDICTIVE_MODEL_AGENT[ðŸ”® Predictive Model Agent]

    PREDICTIVE_MODEL_AGENT --> FUTURE_PURCHASE_AGENT[ðŸ”® Future Purchase Agent]
    FUTURE_PURCHASE_AGENT --> PROACTIVE_RECOMMENDATION_AGENT[ðŸ’¡ Proactive Recommendation Agent]

    PROACTIVE_RECOMMENDATION_AGENT --> TIMING_OPTIMIZATION_AGENT[â° Timing Optimization Agent]
    TIMING_OPTIMIZATION_AGENT --> RECOMMENDATION_DISPLAY_AGENT

    %% A/B Testing
    RECOMMENDATION_DISPLAY_AGENT --> AB_TESTING_AGENT[ðŸ§ª A/B Testing Agent]
    AB_TESTING_AGENT --> ALGORITHM_COMPARISON_AGENT[âš–ï¸ Algorithm Comparison Agent]

    ALGORITHM_COMPARISON_AGENT --> PERFORMANCE_METRICS_AGENT[ðŸ“Š Performance Metrics Agent]
    PERFORMANCE_METRICS_AGENT --> WINNER_SELECTION_AGENT[ðŸ† Winner Selection Agent]

    WINNER_SELECTION_AGENT --> MODEL_DEPLOYMENT_AGENT[ðŸš€ Model Deployment Agent]
    MODEL_DEPLOYMENT_AGENT --> RECOMMENDATION_ENGINE_AGENT

    %% Error Handling
    ADD_TO_WISHLIST_AGENT --> ERROR_CHECK_AGENT{Add Error?}
    ERROR_CHECK_AGENT -->|Yes| ERROR_HANDLING_AGENT[ðŸš¨ Error Handling Agent]
    ERROR_CHECK_AGENT -->|No| CONFIRMATION_AGENT

    ERROR_HANDLING_AGENT --> RETRY_AGENT[ðŸ”„ Retry Agent]
    RETRY_AGENT --> RETRY_SUCCESS{Retry Success?}
    RETRY_SUCCESS -->|Yes| WISHLIST_STORAGE_AGENT
    RETRY_SUCCESS -->|No| FALLBACK_AGENT[ðŸ”„ Fallback Agent]

    FALLBACK_AGENT --> OFFLINE_STORAGE_AGENT[ðŸ’¾ Offline Storage Agent]
    OFFLINE_STORAGE_AGENT --> SYNC_AGENT[ðŸ”„ Sync Agent]

    %% Privacy & Security
    WISHLIST_STORAGE_AGENT --> PRIVACY_AGENT[ðŸ”’ Privacy Agent]
    PRIVACY_AGENT --> DATA_ENCRYPTION_AGENT[ðŸ” Data Encryption Agent]
    DATA_ENCRYPTION_AGENT --> ACCESS_CONTROL_AGENT[ðŸšª Access Control Agent]

    ACCESS_CONTROL_AGENT --> SHARING_PERMISSION_AGENT[ðŸ“¤ Sharing Permission Agent]
    SHARING_PERMISSION_AGENT --> VISIBILITY_CONTROL_AGENT[ðŸ‘ï¸ Visibility Control Agent]

    %% End States
    CONFIRMATION_AGENT --> END_ADDED([âž• Added to Wishlist])
    REMOVE_ITEM_AGENT --> END_REMOVED([âž– Removed from Wishlist])
    MOVE_TO_CART_AGENT --> END_MOVED([ðŸ›’ Moved to Cart])
    SHARE_WISHLIST_AGENT --> END_SHARED([ðŸ“¤ Wishlist Shared])
    CREATE_COLLECTION_AGENT --> END_COLLECTION([ðŸ“ Collection Created])
    PURCHASE_INTENT_AGENT --> END_PURCHASE([ðŸ›’ Purchase Intent Tracked])
    DISMISS_AGENT --> END_DISMISSED([ðŸš« Recommendation Dismissed])
    MODEL_DEPLOYMENT_AGENT --> END_OPTIMIZED([âš¡ Model Optimized])
    SYNC_AGENT --> END_SYNCED([ðŸ”„ Data Synced])

    %% Styling
    classDef startClass fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef decisionClass fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef processClass fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef parallelClass fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef errorClass fill:#ffebee,stroke:#b71c1c,stroke-width:2px
    classDef endClass fill:#e8eaf6,stroke:#1a237e,stroke-width:2px
    classDef agentClass fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef socialClass fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef analyticsClass fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px

    class START,END_ADDED,END_REMOVED,END_MOVED,END_SHARED,END_COLLECTION,END_PURCHASE,END_DISMISSED,END_OPTIMIZED,END_SYNCED startClass
    class USER_INTERACTION_AGENT,WISHLIST_OPERATIONS_AGENT,ERROR_CHECK_AGENT,RETRY_SUCCESS decisionClass
    class PRODUCT_INTERACTION_AGENT,VIEW_TRACKING_AGENT,ENGAGEMENT_ANALYSIS_AGENT,INTEREST_SCORING_AGENT,WISHLIST_CANDIDATE_AGENT,ADD_TO_WISHLIST_AGENT,CONFIRMATION_AGENT,WISHLIST_STORAGE_AGENT,USER_NOTIFICATION_AGENT,WISHLIST_ORGANIZATION_AGENT,CATEGORY_TAGGING_AGENT,PRIORITY_RANKING_AGENT,WISHLIST_DISPLAY_AGENT,USER_DASHBOARD_AGENT,RECOMMENDATION_ENGINE_AGENT,PATTERN_ANALYSIS_AGENT,SIMILARITY_MATCHING_AGENT,COLLABORATIVE_FILTERING_AGENT,TREND_ANALYSIS_AGENT,PERSONALIZATION_AGENT,RECOMMENDATION_GENERATION_AGENT,RECOMMENDATION_RANKING_AGENT,RECOMMENDATION_DISPLAY_AGENT,PRODUCT_DETAIL_AGENT,DETAILED_ANALYSIS_AGENT,COMPARISON_AGENT,REVIEW_AGGREGATION_AGENT,PURCHASE_DECISION_AGENT,ADD_RECOMMENDED_AGENT,RECOMMENDATION_SUCCESS_AGENT,WISHLIST_UPDATE_AGENT,SIMILARITY_UPDATE_AGENT,CONVERSION_TRACKING_AGENT,SALES_FUNNEL_AGENT,REVENUE_ATTRIBUTION_AGENT,ROI_CALCULATION_AGENT,DISMISS_AGENT,FEEDBACK_COLLECTION_AGENT,NEGATIVE_SIGNAL_AGENT,MODEL_ADJUSTMENT_AGENT,REMOVE_ITEM_AGENT,REMOVAL_CONFIRMATION_AGENT,MOVE_TO_CART_AGENT,CART_INTEGRATION_AGENT,SHARE_WISHLIST_AGENT,SHARING_PLATFORM_AGENT,SOCIAL_LINK_AGENT,VIRALITY_TRACKING_AGENT,CREATE_COLLECTION_AGENT,COLLECTION_BUILDER_AGENT,THEME_ANALYSIS_AGENT,COLLECTION_DISPLAY_AGENT,PRICE_TRACKING_AGENT,PRICE_MONITORING_AGENT,PRICE_ALERT_AGENT,DISCOUNT_NOTIFICATION_AGENT,PURCHASE_TIMING_AGENT,AVAILABILITY_TRACKING_AGENT,STOCK_ALERT_AGENT,URGENCY_NOTIFICATION_AGENT,SOCIAL_FEATURES_AGENT,FRIEND_ACTIVITY_AGENT,SOCIAL_RECOMMENDATION_AGENT,NETWORK_ANALYSIS_AGENT,SOCIAL_INFLUENCE_AGENT,TREND_BOOSTING_AGENT,WISHLIST_ANALYTICS_AGENT,USER_BEHAVIOR_AGENT,PREFERENCE_LEARNING_AGENT,PREDICTIVE_MODEL_AGENT,FUTURE_PURCHASE_AGENT,PROACTIVE_RECOMMENDATION_AGENT,TIMING_OPTIMIZATION_AGENT,AB_TESTING_AGENT,ALGORITHM_COMPARISON_AGENT,PERFORMANCE_METRICS_AGENT,WINNER_SELECTION_AGENT,MODEL_DEPLOYMENT_AGENT,ERROR_HANDLING_AGENT,RETRY_AGENT,FALLBACK_AGENT,OFFLINE_STORAGE_AGENT,SYNC_AGENT,PRIVACY_AGENT,DATA_ENCRYPTION_AGENT,ACCESS_CONTROL_AGENT,SHARING_PERMISSION_AGENT,VISIBILITY_CONTROL_AGENT processClass
    class ERROR_HANDLING_AGENT,RETRY_AGENT,FALLBACK_AGENT errorClass
    class SOCIAL_FEATURES_AGENT,FRIEND_ACTIVITY_AGENT,SOCIAL_RECOMMENDATION_AGENT socialClass
    class WISHLIST_ANALYTICS_AGENT,USER_BEHAVIOR_AGENT,PREFERENCE_LEARNING_AGENT analyticsClass